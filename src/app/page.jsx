import { fetchImages } from "@/app/actions"
import FileUploadModal from "@/components/FileUploadDialog"
import { Card, CardContent } from "@/components/ui/card"
import Image from "next/image"
import Link from "next/link"

const HomePage = async () => {
  const images = await fetchImages()
  return (
    <section className="grid gap-3 grid-cols-gallery justify-center">
      {images.map((image) =>
        <Card key={image.id} className="overflow-hidden aspect-square ">
          <CardContent className='p-3 h-full'>
            <div className="h-full transition-transform rounded-[6px] overflow-hidden hover:scale-[1.15] relative transform-gpu">
              <Link href={`/${image.id}`}>
                <Image
                  src={image.url}
                  width={250} height={250}
                  sizes="(min-width: 1500px) 700px (min-width: 1380px) 600px, 400px"
                  placeholder='blur'
                  alt={`${image.filename}`}
                  className="w-full h-full cursor-pointer object-cover "
                  blurDataURL='data:image/png;base64,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'
                />
              </Link>
            </div>
          </CardContent>
        </Card>
      )}
      {images.length === 0 && (
        <div className="absolute inset-0 flex flex-col gap-y-4 pb-20 justify-center items-center ">
          <h2 className="text-2xl md:text-3xl">Upload your first image!</h2>
          <h2 className="text-xl md:text-2xl">Your gallery is currently empty</h2>
          <FileUploadModal />
        </div>
      )}
    </section >
  )
}
export default HomePage